(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{269:function(e,t,a){var i=a(275);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(23).default)("3bf70e30",i,!1,{sourceMap:!1})},272:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"ensureview"},[a("ul",e._l(e.ensureList,function(t,i){return a("li",{key:i,staticClass:"ensureview_li"},[a("div",{staticClass:"ensureview_item"},[a("img",{staticStyle:{float:"left","margin-right":"10px"},attrs:{"data-original":t.img,src:t.img,width:"45",height:"50"}}),e._v(" "),a("div",{staticClass:"ensureview_ex"},[a("div",[e._v(e._s(t.text1))]),e._v(" "),a("div",[e._v(e._s(t.text2))])])])])}))]),e._v(" "),a("hr",{staticStyle:{margin:"0px",width:"100%",height:"1px",border:"0px","background-color":"#f5f5f5",color:"#f5f5f5"}}),e._v(" "),a("div",{staticClass:"releview"},[a("ul",{staticStyle:{width:"100%",float:"left"}},e._l(e.releList,function(t,i){return a("li",{key:i,staticClass:"releview_li"},[a("div",{staticClass:"releview_item"},[a("span",{staticStyle:{"font-size":"14px","font-weight":"bold",color:"black","margin-bottom":"10px"}},[e._v(e._s(t.title))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isImage,expression:"item.isImage"}],staticStyle:{"margin-top":"10px"}},[a("img",{attrs:{src:t.image,width:"90",height:"90"}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isImage,expression:"!item.isImage"}],staticStyle:{"margin-top":"10px"}},[a("td",[a("p",[a("a",{attrs:{rel:"nofollow",target:"_blank"}},[e._v(e._s(t.text1))])]),e._v(" "),a("p",[a("a",{attrs:{rel:"nofollow",target:"_blank"}},[e._v(e._s(t.text2))])]),e._v(" "),a("p",[a("a",{attrs:{rel:"nofollow",target:"_blank"}},[e._v(e._s(t.text3))])])])])])])}))]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)])};i._withStripped=!0;var o={data:function(){return{ensureList:[{img:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/assets/icon_footer_quality.png",text1:"20000正品",text2:"品牌授权正品保证，仓库现货直发"},{img:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/assets/icon_footer_shipping.png",text1:"满99元包邮",text2:"部分区域订单满99元免邮费"},{img:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/assets/icon_footer_value.png",text1:"增值税专用发票",text2:"可提供增值税专用发票"},{img:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/assets/icon_footer_cargo.png",text1:"7天无理由退货",text2:"安心采购，售后无忧"}],releList:[{title:"手机土猫网",image:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/templet/toolmallc_app_down.png",isImage:!0},{title:"土猫网小程序",image:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/templet/toolmallc_small_program.png",isImage:!0},{title:"官方微信",image:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/templet/toolmallc_service_no.png",isImage:!0},{title:"常见问题",text1:"怎么注册账号",text2:"怎么认证企业账号",text3:"忘记密码怎么办",isImage:!1},{title:"购物指南",text1:"怎么批量购买",text2:"怎么支付",text3:"怎么开票",isImage:!1},{title:"发送活动",text1:"配送时效",text2:"配送方式",text3:"订货周期",isImage:!1},{title:"特色服务",text1:"定制工具",text2:"专属采购系统",text3:"开发平台对接",isImage:!1},{title:"专属客服",text1:"资深工具专家",text2:"一对一服务",text3:"售后无忧",isImage:!1}]}}},r=(a(276),a(25)),s=Object(r.a)(o,i,[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bottom_about"},[a("ul",{staticClass:"bottom_ul"},[a("li",[a("a",[e._v("联系我们")])]),e._v(" "),a("li",{staticClass:"tm-separator-li"},[a("span",{staticClass:"tm-separator"},[e._v("|")])]),e._v(" "),a("li",[a("a",[e._v("\n          网站地图\n        ")])]),e._v(" "),a("li",{staticClass:"tm-separator-li"},[a("span",{staticClass:"tm-separator"},[e._v("|")])]),e._v(" "),a("li",[a("a",[e._v("\n          怎么入驻\n        ")])]),e._v(" "),a("li",{staticClass:"tm-separator-li"},[a("span",{staticClass:"tm-separator"},[e._v("|")])]),e._v(" "),a("li",[a("a",[e._v("\n          加入我们\n        ")])]),e._v(" "),a("li",{staticClass:"tm-separator-li"},[a("span",{staticClass:"tm-separator"},[e._v("|")])]),e._v(" "),a("li",[a("a",[e._v("\n          工具定制\n        ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"bottom_record"},[this._v("\n    浙ICP备10028454号-8    © 版权所有 杭州巨星科技股份有限公司（股票代码：002444）\n    "),this._v(" "),t("span",{staticStyle:{display:"inline-block","vertical-align":"baseline","margin-left":"20px","line-height":"20px"}},[t("a",{staticStyle:{"text-decoration":"none"},attrs:{rel:"nofollow",target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010402000529"}},[t("img",{attrs:{src:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/home/ghs.png"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"5px",color:"#999999","font-size":"12px"}},[this._v("浙公网安备 33010402000529号")])])]),this._v(" "),t("span",{staticStyle:{display:"inline-block","vertical-align":"baseline","margin-left":"20px","line-height":"20px"}},[this._v("电信业务经营许可证：浙B2-20170133")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"bottom_btmicon"},[t("a",{attrs:{rel:"nofollow",target:"_blank",logo_size:"124x47",logo_type:"business",href:"http://www.anquan.org/authenticate/cert/?site=www.toolmall.com&at=business"}},[t("img",{staticStyle:{border:"medium none"},attrs:{src:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/home/hy_124x47_2.png",alt:"安全联盟认证"}})]),this._v(" "),t("a",{attrs:{rel:"nofollow",target:"_blank",id:"_pingansec_bottomimagesmall_brand",href:"http://si.trustutn.org/info?sn=769160322021143207777&certType=1"}},[t("img",{attrs:{src:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/home/hyrzsm_2.png"}})]),this._v(" "),t("a",{attrs:{rel:"nofollow",href:"https://ss.knet.cn/verifyseal.dll?sn=e15081133010059843qv4u000000&ct=df&a=1&pa=0.6716742319522379",target:"_blank"}},[t("img",{attrs:{src:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/home/cnniccx_2.png"}})]),this._v(" "),t("a",{attrs:{rel:"nofollow",href:"https://ss.knet.cn/verifyseal.dll?sn=e15081133010059843qv4u000000&ct=df&a=1&pa=0.6716742319522379",target:"_blank"}},[t("img",{attrs:{src:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/home/hywzrz_2.png"}})]),this._v(" "),t("a",{staticStyle:{"border-right":"none"},attrs:{rel:"nofollow",target:"_blank",id:"_pingansec_bottomimagelarge_hangye",href:"http://si.trustutn.org/info?sn=125160222020283652040&certType=1"}},[t("img",{attrs:{src:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/home/gongshang.png"}})])])}],!1,null,"9d681ce4",null);t.a=s.exports},275:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,'.container[data-v-9d681ce4]{width:100%;color:#555;background-color:#fff;font-size:12px;border-top:1px solid #f5f5f5}.ensureview[data-v-9d681ce4]{margin:0 auto;margin-top:40px;width:1200px}.ensureview_li[data-v-9d681ce4]{float:left;display:inline;margin:20px 0;width:300px}.ensureview_item[data-v-9d681ce4]{width:260px;display:table;content:"";font-size:12px;color:#b7926e}.ensureview_ex[data-v-9d681ce4]{padding-top:5px}.releview[data-v-9d681ce4]{width:1200px;margin:0 auto}.releview_li[data-v-9d681ce4]{float:left;margin:20px 0;width:150px}.releview_item[data-v-9d681ce4]{margin-right:20px}.bottom_about[data-v-9d681ce4]{margin:0 auto;width:1200px}.bottom_ul[data-v-9d681ce4]{text-align:center;margin-bottom:30px;width:100%;float:left}.bottom_ul>li[data-v-9d681ce4]{display:inline;padding:0 10px}.bottom_ul>li>a[data-v-9d681ce4]{text-decoration:none;outline:0;color:inherit}.bottom_ul>li>a[data-v-9d681ce4]:hover{color:#1368c3}.bottom_ul[data-v-9d681ce4]:after{display:block;clear:both}.bottom_record[data-v-9d681ce4]{color:#999;margin:0 auto;width:1200px;text-align:center;margin-bottom:10px}.bottom_btmicon[data-v-9d681ce4]{width:100%;overflow:hidden;padding-top:10px;background:#fff;text-align:center;padding-bottom:20px}.bottom_btmicon>a[data-v-9d681ce4]{line-height:14px;padding:0 10px;font-size:14px}',""])},276:function(e,t,a){"use strict";var i=a(269);a.n(i).a},344:function(e,t,a){var i=a(514);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(23).default)("2c3575ee",i,!1,{sourceMap:!1})},369:function(e,t){},514:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".pageview{width:100%;height:100%;font-size:14px}.contentview_company{display:-webkit-box;font-size:16px}.contentview_title{margin-top:20px;margin-bottom:15px;font-size:14px}.contentview_table{margin-top:20px}.contentview_form{width:450px;margin-top:20px}.ruleForm{margin-left:20px;margin-top:15px}.contentview_a_upload{padding:4px 10px;height:20px;line-height:20px;margin-top:20px;font-size:12px;position:relative;cursor:pointer;color:#fff;background:#1368c3;border:1px solid #1368c3;border-radius:4px;overflow:hidden;display:inline-block;*display:inline;*zoom:1}.contentview_a_upload input{position:absolute;font-size:100px;right:0;top:0;opacity:0;filter:alpha(opacity=0);cursor:pointer}.contentview_a_upload:hover{color:#fff;background:#409eff;border-color:#409eff;text-decoration:none}",""])},515:function(e,t,a){"use strict";var i=a(344);a.n(i).a},516:function(e,t){},517:function(e,t){},553:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageview"},[a("div",{staticClass:"contentview"},[a("div",{staticClass:"contentview_company"},[a("h1",[e._v("新建询价单")]),e._v(" "),a("span",[e._v("-"+e._s(e.companyName))])]),e._v(" "),a("div",{staticClass:"contentview_title"},[a("el-form",[a("el-form-item",{attrs:{label:"标题",required:""}},[a("el-input",{ref:"title",staticStyle:{width:"250px"},attrs:{size:"small",placeholder:"请输入询价单标题",disabled:e.isLook},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1)],1),e._v(" "),a("div",[a("span",{staticStyle:{"margin-right":"20px"}},[e._v("需求类型")]),e._v(" "),a("el-radio",{attrs:{label:"delivery",disabled:e.isLook},model:{value:e.demandType,callback:function(t){e.demandType=t},expression:"demandType"}},[e._v("询价")]),e._v(" "),a("el-radio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"inquiry",disabled:e.isLook},model:{value:e.demandType,callback:function(t){e.demandType=t},expression:"demandType"}},[e._v("询货期")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"upload-demo",staticStyle:{width:"150px",float:"left"},attrs:{action:e.updateExcel,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.upSuccess,"with-credentials":!0,multiple:"",limit:3,"on-exceed":e.handleExceed,beforeUpload:e.beforeAvatarUpload,"file-list":e.fileList,disabled:e.isLook}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("批量导入询价商品")])],1),e._v(" "),a("a",{staticStyle:{"line-height":"32px",color:"rgb(183, 146, 110)"},attrs:{href:"https://jxkj-6.oss-cn-hangzhou.aliyuncs.com/toolmallb/templet/02%E8%AF%A2%E4%BB%B7%E5%95%86%E5%93%81%E5%AF%BC%E5%85%A5%E6%A8%A1%E6%9D%BF-%E5%95%86%E5%93%81%E7%BC%96%E7%A0%81%E5%AF%BC%E5%85%A5.xlsx"}},[e._v("上传文件格式范例>")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px",float:"left",width:"100%"}},[a("el-upload",{staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{action:e.updateFile,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.upElSuccess,multiple:"",limit:1,"on-exceed":e.handleExceed,beforeUpload:e.beforeAvatarUploadFile,"file-list":e.fileList,disabled:e.isLook}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传询价附件")])],1),e._v(" "),a("a",{attrs:{target:"_blank",href:e.enclosureFlie,disabled:e.isLook}},[e._v(e._s(e.enclosureFlie))])],1),e._v(" "),a("span",{staticStyle:{"font-size":"12px",color:"black",float:"left",width:"100%","margin-top":"5px","margin-bottom":"5px"}},[e._v("注：可上传照片或excel等其他格式文件；若有多个文件，请通过压缩包上传，单个文件不超过20MB")]),e._v(" "),a("div",{staticClass:"contentview_table"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("商品列表：")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.goodsData,border:""}},[a("el-table-column",{attrs:{resizable:!1,fixed:"",prop:"productId",label:"土猫网编号",width:"100px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"productName",label:"商品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"unit",label:"单位",width:"150px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"specification",label:"规格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{width:"60px",display:"inline-block"}},[e._v("*"+e._s(t.row.specification)+" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"amount",label:"所需数量(可编辑)",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"60px"},attrs:{size:"small",disabled:e.isLook},model:{value:t.row.amount,callback:function(a){e.$set(t.row,"amount",a)},expression:"goodsData.row.amount"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"remark",label:"备注(可编辑)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"60px"},attrs:{size:"small",disabled:e.isLook},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"goodsData.row.remark"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,label:"操作",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isLook,expression:"!isLook"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"contentview_table_add"},[a("span",{staticStyle:{color:"#0D76E7"}},[e._v("新增商品")]),e._v(" "),a("el-autocomplete",{staticStyle:{width:"250px","margin-top":"15px"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入商品编号或商品名称搜索添加","trigger-on-focus":!1,size:"small",disabled:e.isLook},on:{select:e.handleSelect},model:{value:e.selectGood,callback:function(t){e.selectGood=t},expression:"selectGood"}}),e._v(" "),a("span",[e._v("可直接在左侧搜索框搜索选择商品添加")])],1)],1),e._v(" "),a("div",{staticClass:"contentview_form"},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("采购要求：")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"联系人:",prop:"linkMan",required:""}},[a("el-input",{attrs:{size:"small",placeholder:"请输入联系人姓名",disabled:e.isLook},model:{value:e.ruleForm.linkMan,callback:function(t){e.$set(e.ruleForm,"linkMan",t)},expression:"ruleForm.linkMan"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人手机:",prop:"linkPhone",required:""}},[a("el-input",{attrs:{size:"small",placeholder:"请输入正确的手机号，以便接收报价通知提醒",disabled:e.isLook},model:{value:e.ruleForm.linkPhone,callback:function(t){e.$set(e.ruleForm,"linkPhone",t)},expression:"ruleForm.linkPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",size:"small","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",disabled:e.isLook,"picker-options":e.pickerOptions1},model:{value:e.ruleForm.receiptDate,callback:function(t){e.$set(e.ruleForm,"receiptDate",t)},expression:"ruleForm.receiptDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货地址:"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入收货地址",disabled:e.isLook},model:{value:e.ruleForm.receiptAddress,callback:function(t){e.$set(e.ruleForm,"receiptAddress",t)},expression:"ruleForm.receiptAddress"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"支付方式:"}},[a("el-radio",{attrs:{label:"onlinepay",size:"small",disabled:e.isLook},model:{value:e.ruleForm.payType,callback:function(t){e.$set(e.ruleForm,"payType",t)},expression:"ruleForm.payType"}},[e._v("线上支付")]),e._v(" "),a("el-radio",{attrs:{label:"transfer",disabled:e.isLook},model:{value:e.ruleForm.payType,callback:function(t){e.$set(e.ruleForm,"payType",t)},expression:"ruleForm.payType"}},[e._v("货到付款")]),e._v(" "),a("el-radio",{attrs:{label:"cashondelivery",disabled:e.isLook},model:{value:e.ruleForm.payType,callback:function(t){e.$set(e.ruleForm,"payType",t)},expression:"ruleForm.payType"}},[e._v("对公转账")])],1),e._v(" "),a("el-form-item",{attrs:{label:"发票信息:"}},[a("el-radio",{attrs:{label:"normal",disabled:e.isLook},model:{value:e.ruleForm.billType,callback:function(t){e.$set(e.ruleForm,"billType",t)},expression:"ruleForm.billType"}},[e._v("普通类发票(纸质)")]),e._v(" "),a("el-radio",{attrs:{label:"special",disabled:e.isLook},model:{value:e.ruleForm.billType,callback:function(t){e.$set(e.ruleForm,"billType",t)},expression:"ruleForm.billType"}},[e._v("增值税发票")])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容",disabled:e.isLook},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isLook,expression:"!isLook"}]},[a("el-button",{on:{click:function(t){e.saveQuiry("ruleForm")}}},[e._v("暂存")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("ruleForm")}}},[e._v("提交")])],1)],1)],1)])])};i._withStripped=!0;var o=a(45),r=a.n(o),s=a(15),l=a.n(s),n=a(2),c=a.n(n),d=a(4),u=a.n(d),p=a(290),m=a(272),h=a(11),v=a(16),f=a(6),g={components:{"v-header-blue":p.a,"v-footer":m.a},data:function(){return{pickerOptions1:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},updateExcel:h.a.ParseExcelUrl,updateFile:h.a.UploadFileUrl,isLook:!1,fullscreenLoading:!1,title:"",demandType:"delivery",enclosure:"",fileName:"12.9日询价表.excel",goodsIdentifier:"",goodsData:[],selectGood:"",fileList:[],enclosureFlie:"",orderId:"",ruleForm:{linkMan:"",linkPhone:"",receiptDate:"",receiptAddress:"",payType:"onlinepay",billType:"normal",remark:""},rules:{linkMan:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],linkPhone:[{required:!0,message:"请输入正确手机号",trigger:"blur"},{min:11,max:11,message:"请输入正确手机号",trigger:"blur"}]}}},computed:{companyName:function(){if(this.$store.state.userInfo)return this.$store.state.userInfo.companyName}},mounted:function(){console.log("tang------------------\x3e",this.$route.query.type+"-------------"+this.$route.query.id),"edit"!=this.$route.query.type&&"look"!=this.$route.query.type||this.queryQuiry(this.$route.query.type,this.$route.query.id)},methods:{queryQuiry:function(){var e=u()(c.a.mark(function e(t,a){var i,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={orderId:a},e.next=3,Object(v.a)(this,h.a.GetDemandOrderUrl,i,"GET");case 3:if(o=e.sent){for(this.title=o.data.orderName,this.demandType=o.data.type,this.goodsData=o.data.list,this.ruleForm.linkMan=o.data.contactPerson,this.ruleForm.linkPhone=o.data.contactPhone,this.ruleForm.receiptDate=Object(f.h)(o.data.receivedDate),this.ruleForm.receiptAddress=o.data.receivedAddress,this.ruleForm.payType=o.data.payType,this.ruleForm.billType=o.data.receiptType,o.data.attachfiles&&(this.enclosureFlie=o.data.attachfiles,this.enclosure=o.data.attachfiles),o.data.orderId&&(this.orderId=o.data.orderId),r=0;r<o.data.list.length;r++)"look"==t?(o.data.list[r].isAmount=!0,o.data.list[r].isRemark=!0):(o.data.list[r].isAmount=!1,o.data.list[r].isRemark=!1);this.isLook="look"==t}case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},upSuccess:function(e,t,a){var i=this;if(e)if(e.data.message)this.$confirm(e.data.message+"，确认继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.goodsData=e.data.productModels;for(var t=0;t<i.goodsData.length;t++)i.goodsData[t].isAmount=!1,i.goodsData[t].isRemark=!1}).catch(function(){});else{this.goodsData=e.data.productModels;for(var o=0;o<this.goodsData.length;o++)this.goodsData[o].isAmount=!1,this.goodsData[o].isRemark=!1}},upElSuccess:function(e,t,a){e&&(this.enclosure=e.data,this.enclosureFlie="")},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeAvatarUpload:function(e){var t=e.size/1024/1024<20,a=!1,i=e.name.split(".");return"xls"===i[1]||"xlsx"===i[1]?a=!0:(this.$message.error("上传文件只能是 excel 格式!"),a=!1),t||this.$message.error("上传文件大小不能超过 20MB!"),a&&t},beforeAvatarUploadFile:function(e){var t=e.size/1024/1024<20;return t||this.$message.error("上传文件大小不能超过 20MB!"),t},handleClick:function(e){this.goodsData.splice(e,e+1)},saveQuiry:function(e){var t=this;if(""==this.title)return this.$message.error("请输入标题");if(0==this.goodsData.length&&!this.enclosure)return this.$message.error("商品列表不能为空或附件不能为空！");if(0!=this.goodsData.length){var a=[];if(this.goodsData.forEach(function(e){e.amount||a.push(e.productId)}),0!=a.length)return this.$message.error("土猫编号为"+a.toString()+"的商品数量不能为空！")}this.$refs[e].validate(function(e){return!!e&&(t.questSaveQuiry("tosubmit"),!0)})},onSubmit:function(e){var t=this;if(""==this.title)return this.$message.error("请输入标题");if(0==this.goodsData.length&&!this.enclosure)return this.$message.error("商品列表不能为空");if(0!=this.goodsData.length){var a=[];if(this.goodsData.forEach(function(e){e.amount||a.push(e.productId)}),0!=a.length)return this.$message.error("土猫编号为"+a.toString()+"的商品数量不能为空！")}this.$refs[e].validate(function(e){return!!e&&(t.questSaveQuiry("submit"),!0)})},questSaveQuiry:function(){var e=u()(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l()({attachfiles:this.enclosure,bankAccount:"",bankName:"",companyId:"",contactPerson:this.ruleForm.linkMan,contactPhone:this.ruleForm.linkPhone,creditCode:"",demandOrderDate:"",description:this.ruleForm.remark,detailedAddress:"",draweeAddress:"",draweeName:"",draweePhone:"",dutyParagraph:"",invoiceInformation:"",list:this.goodsData,name:"",orderId:this.orderId,orderName:this.title,orderStatus:t,orderType:"",payType:this.ruleForm.payType,receiptType:this.ruleForm.billType,receivedAddress:this.ruleForm.receiptAddress,receivedDate:this.ruleForm.receiptDate,registeredAddress:"",registeredPhone:"",type:this.demandType}),e.next=3,Object(v.a)(this,h.a.SaveDemandOrderUrl,a);case 3:e.sent&&this.$router.go(-1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),querySearchAsync:function(){var e=u()(c.a.mark(function e(t,a){var i,o,s,l,n,d,u,p,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>1)){e.next=31;break}return i={query:t},e.next=4,Object(v.a)(this,h.a.QuerySelectListUrl,i,"GET");case 4:if(!(o=e.sent)){e.next=31;break}if(!(o.data&&o.data.length>0)){e.next=29;break}for(s=!0,l=!1,n=void 0,e.prev=10,d=r()(o.data);!(s=(u=d.next()).done);s=!0)(p=u.value).value=p.productName;e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),l=!0,n=e.t0;case 18:e.prev=18,e.prev=19,!s&&d.return&&d.return();case 21:if(e.prev=21,!l){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.abrupt("return",a(o.data));case 29:return m=[{value:"暂无数据"}],e.abrupt("return",a(m));case 31:case"end":return e.stop()}},e,this,[[10,14,18,26],[19,,21,25]])}));return function(t,a){return e.apply(this,arguments)}}(),handleSelect:function(e){if(this.goodsData)for(var t=0;t<this.goodsData.length;t++)if(this.goodsData[t].productId==e.productId)return this.$message.error("商品已存在");this.goodsData.push(e)},questGoods:function(){var e=u()(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t},e.next=3,Object(v.a)(this,h.a.QueryProductInfoUrl,a,"GET");case 3:e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selectItemClick:function(e,t,a){0==e?this.goodsData[t].isAmount=!1:1==e&&(this.goodsData[t].isRemark=!1),this.$nextTick(function(){a.target.previousElementSibling.children[0].focus()})},importExcel:function(e){this.$refs.inputer;this.file=event.currentTarget.files[0];var t=this.file,i=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var t,i,o="",r=new FileReader;r.onload=function(e){for(var s=new Uint8Array(r.result),l=s.byteLength,n=0;n<l;n++)o+=String.fromCharCode(s[n]);var c=a(522);t=c.read(o,{type:"binary"}),i=c.utils.sheet_to_json(t.Sheets[t.SheetNames[0]]),this.setData(i),console.log(i)},r.readAsArrayBuffer(e)},i.readAsBinaryString(t)},setData:function(e){e.forEach(function(e){console.log(e.企业商品编码)})},loading:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.4)"})})}},b=(a(515),a(25)),_=Object(b.a)(g,i,[],!1,null,null,null);t.default=_.exports}}]);