(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{282:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return n});var i=function(e,t,a){if("upImg"==t){var i="image/jpeg"===a.type,n="image/png"===a.type,s=a.size/1024/1024<20;return i||n||e.$message.error("上传头像图片只能是 JPG/PNG 格式!"),s||e.$message.error("上传头像图片大小不能超过 20MB!"),(i||n)&&s}if("upExl"==t){var r=a.size/1024/1024<20,l=!1,o=a.name.split(".");return"xls"===o[1]||"xlsx"===o[1]?l=!0:(e.$message.error("上传文件只能是 excel 格式!"),l=!1),r||e.$message.error("上传文件大小不能超过 20MB!"),l&&r}if("upAll"==t){var c=a.size/1024/1024<20;return c||e.$message.error("上传文件大小不能超过 20MB!"),c}},n=function(e,t,a,i){return e.$message.error("营业执照上传失败，请重新上传！")}},326:function(e,t,a){var i=a(480);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(23).default)("68bea4b5",i,!1,{sourceMap:!1})},480:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".contentview_title[data-v-764fea8e]{font-size:18px;color:#000}.contentview>ul[data-v-764fea8e]{font-size:14px;color:#000}",""])},481:function(e,t,a){"use strict";var i=a(326);a.n(i).a},568:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageview"},[a("div",{staticClass:"contentview"},[a("div",{staticClass:"contentview_title"},[a("span",{staticStyle:{"font-weight":"bold"}},[e._v("账期申请-")]),e._v(" "),a("span",[e._v(e._s(e.companyName))])]),e._v(" "),a("div",{staticStyle:{"font-size":"15px",color:"gray",margin:"10px 0"}},[e._v(e._s(e.explainOne))]),e._v(" "),a("ul",e._l(e.stepList,function(t){return a("li",{key:t},[a("span",[e._v(e._s(t))])])})),e._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[a("a",{staticStyle:{"font-size":"14px",color:"#b7926e"}},[e._v(e._s(e.downloadTemplet))])]),e._v(" "),a("div",[a("el-upload",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{action:e.updateExcel,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.upSuccess,"with-credentials":!0,multiple:"",limit:1,"on-exceed":e.handleExceed,beforeUpload:e.beforeAvatarUpload,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传合同附件")])],1)],1),e._v(" "),a("div",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isSubmit,expression:"isSubmit"}],staticStyle:{"margin-top":"30px"},attrs:{size:"small",type:"primary"},on:{click:e.submitAudit}},[e._v("提交审核")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"658"}},[a("el-table-column",{attrs:{resizable:!1,fixed:"",prop:"accessoryname",label:"合同附件",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"companyName",label:"上传人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,prop:"createDate",label:"上传时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{resizable:!1,label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("a",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"medium",target:"_blank",href:t.row.accessoryAddress}},[e._v("下载")])]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"checked"==t.row.accountStatus,expression:"tableData.row.accountStatus == 'checked'"}],attrs:{type:"text",size:"medium"},on:{click:function(a){e.seeBilling(t.$index)}}},[e._v("查看账期")])]}}])})],1)],1)])])};i._withStripped=!0;var n=a(2),s=a.n(n),r=a(4),l=a.n(r),o=a(11),c=a(16),u=a(6),p=(a(282),{data:function(){return{explainOne:"尊敬的用户，我郑重承诺：以下信息将被严格保密，绝对不会提供给第三方或其他用途。",stepList:["账单申请分期：","1.下载账期合同；","2.按照合同要求填写内容由单位盖章；","3.将盖章后的合同拍照后上传进行申请提交审核（或按与销售部签收的差异化合同）；","4.后台工作人员审核通过后，即可在下单时使用账期支付。"],downloadTemplet:"土猫平台账期合同（请点击下载）>",updateExcel:o.a.UploadFileUrl,fileList:[],fullscreenLoading:!1,isSubmit:!1,contract:"",tableData:[]}},components:{},computed:{companyName:function(){if(this.$store.state.userInfo)return this.$store.state.userInfo.companyName}},mounted:function(){this.getBillingListData()},methods:{getBillingListData:function(){var e=l()(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Object(c.a)(this,o.a.BillingListUrl,t,"GET");case 3:(a=e.sent)&&(this.tableData=a.data,this.tableData.forEach(function(e){e.createDate=Object(u.i)(e.createDate),e.accessoryname=Object(u.c)(e.accessoryAddress)}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),submitAudit:function(){var e=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={uploadUrl:this.contract},e.next=3,Object(c.a)(this,o.a.BillingApplicateUrl,t);case 3:e.sent&&(this.isSubmit=!1,this.$message.success("账期申请提交成功"),this.getBillingListData());case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),seeBilling:function(e){var t="",a="";"advance"==this.tableData[e].accountType?(t="预付比例:   "+100*this.tableData[e].advanceRatio+"%",a="发货后：   "+this.tableData[e].advanceTimelimit+"天结款"):(t="账单日每月：  "+this.tableData[e].billingDate+"日",a="账单日后：  "+this.tableData[e].billingTimelimit+"天还款");var i="<strong>"+t+"<br/>"+a+"<br/></strong>";this.$confirm(i,"账期信息",{dangerouslyUseHTMLString:!0,showConfirmButton:!1,showCancelButton:!1,showClose:!0,closeOnPressEscape:!1,closeOnClickModal:!1,type:"success",center:!0}).then(function(){})},handlePreview:function(e){console.log(e)},handleRemove:function(e,t){console.log(e,t)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+e.length+" 个文件")},upSuccess:function(e,t,a){e&&(this.isSubmit=!0,this.contract=e.data)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<20;return t||this.$message.error("上传头像图片大小不能超过 20MB!"),t}}}),d=(a(481),a(25)),m=Object(d.a)(p,i,[],!1,null,"764fea8e",null);t.default=m.exports}}]);